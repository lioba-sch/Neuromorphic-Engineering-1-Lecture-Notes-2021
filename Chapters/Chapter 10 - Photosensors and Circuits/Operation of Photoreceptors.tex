\subsection{Operations of Photoreceptors}

\subsubsection{Dark Current}

Photodiodes leak even in darkness. Here are some key points to know about Dark Current:
\begin{itemize}
    \item Typical process leaks about 1 $nA/cm^2$ at 25 degrees Celsius.
    \item This actually corresponds to moonlight scene illumnination. So that means it's difficult to differentiate between moonlight and complete darkness!
    \item Most of the leakage comes from the edges of the junctions, where leakage is 10-100x higher. This makes sense considering the absorption principle discussed previously. 
    \item Leakage current doubles every ~6 to 8 degrees. Don't use it at night in summer!
\end{itemize}

\subsubsection{How to estimate incident light on the chip}

So this is to reach estimates of current from given light intensity. Here are some considerations before reaching the final equation: 

\begin{itemize}
    \item 1 Lux $\approx 10^4 \mathrm{photons/\mu m^2/s}$
    \item Moonlight 0.1 Lux; Office light 500 lux; Full sun $10^5$ lux.
    \item Average scene reflectance $\approx 18\%$
    \item You operate it using a lens (with focal length $f$). This allows you to concentrate the incident photons into the smaller area your photodiode is located in.   
    \item Lux falling on chip is $\frac{1}{4 f^2}$ imaged from white surface. Typical fast lenses \footnote{\url{https://en.wikipedia.org/wiki/Lens_speed}} used with have $f = 1.4$.
    \item Quantum efficiency of photodiodes is about 0.5.
\end{itemize}

We can now establish an equation that works for estimating amount of light (in Lux) falling on the chip $I_{chip}$ (in Lux) as a function of scene illumination $I_{scence}[Lux]$ (in Lux):

\begin{equation}
    I_{chip}[Lux] = \frac{I_{scence}[Lux]\cdot R \cdot QE}{4f^2}
\end{equation}

This typically yields that it's only a small fraction of scene illumination (~1/30th) that alls on the chip. 

\subsubsection{Why is a log response desirable?}

During the lab, we studied photoreceptor with logarithmic response to light intensity. A logarithmic response has the following advantage:

\begin{itemize}
    \item Static scene illuminance I appears as additive term in the output, formed from the product of I and scene reflectance R : $log(RI) = log(R) + log(I)$
    \item Differences between photoreceptors over space or time leave only the reflectance variations: $\Delta log(IR) = \Delta log(R)$
    \item Reflectance variations are object properties, which are useful for vision.
    \item The log is also very compressive, allowing wide dynamic range within a power supply rail - as long as mismatch can be tolerated.
\end{itemize}
